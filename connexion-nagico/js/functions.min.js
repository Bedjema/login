function btn_nbr(val) {
  document.getElementById("paswd").value =
    document.getElementById("paswd").value + val;
}

function verif_champ() {
  if (!document.getElementById("user").value) {
    document.getElementById("nbr-field").classList.add("cnx-hide");
    document.getElementById("btn-clear").classList.add("cnx-hide");
    document.getElementById("send_txt").disabled = true;
  } else {
    document.getElementById("nbr-field").classList.remove("cnx-hide");
    document.getElementById("btn-clear").classList.remove("cnx-hide");
    document.getElementById("send_txt").disabled = false;
  }
}

function btn_clear() {
  document.getElementById("paswd").value = "";
  document.getElementById("pasw_key").value = "";
}

function OpenWindowWithPost(url, windowoption, name, params) {
  var form = document.createElement("form");
  form.setAttribute("method", "post");
  form.setAttribute("action", url);
  form.setAttribute("target", name);

  for (var i in params) {
    if (params.hasOwnProperty(i)) {
      var input = document.createElement("input");
      input.type = "hidden";
      input.name = i;
      input.value = params[i];
      form.appendChild(input);
    }
  }

  document.body.appendChild(form);

  //note I am using a post.htm page since I did not want to make double request to the page
  //it might have some Page_Load call which might screw things up.
  window.open("post.htm", name, windowoption);

  form.submit();

  document.body.removeChild(form);
}


/* Random numbers buttons */

function getRandomInRange(min, max) {

  return Math.floor(Math.random() * (max - min) + min);
}

let max = 9;
const numbers_element = document.getElementById('cnx-nbrs');

function createNumbers(max) {
  let range = Array();
  for (let i = 0; i <= max; i++) {
    range.push(i);
  }
  return range;
}

function shuffleNumbers(numbersArray) {
  let i = 0;
  let numbers_html = "";
  let randomIndex;

  do {

    randomIndex = getRandomInRange(0, numbersArray.length);
    
    numbers_html += `<button type="button" class="nbr" onclick="btn_nbr('${numbersArray[randomIndex]}');">${numbersArray[randomIndex]}</button>`;

    numbersArray.splice(randomIndex, 1);
    i++;
  } while (i <= max);
  return numbers_html;
}

function insertNumbersHTML(html) {
  numbers_element.innerHTML = html;
}

insertNumbersHTML(shuffleNumbers(createNumbers(max)));
